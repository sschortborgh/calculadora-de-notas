/* --- Nuevo estilo: tarjeta centrada, simple y moderna --- */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');

:root{
  --bg-start: #0f1724; /* fondo profundo */
  --bg-end:   #071025;
  --card-bg: rgba(255,255,255,0.03);
  --muted: #9fb3cc;
  --text: #e7f3ff;
  --accent: #5ec8ff;
  --accent-2: #7ee7c7;
  --danger: #ff7a7a;
  --primary: #5ec8ff;
  --secondary: #9fb3cc;
  --success-color: #7ee7c7;
  --danger-color: #ff7a7a;
  --radius: 14px;
  --shadow-sm: 0 6px 18px rgba(2,6,23,0.55);
  --shadow-lg: 0 20px 50px rgba(2,6,23,0.65);
}

/* Light theme variables (aplicar .light en body) */
body.light{
  --bg-start: #f6f9ff;
  --bg-end: #eef6ff;
  --card-bg: #ffffff;
  --muted: #4b5563;
  --text: #062033;
  --accent: #2b8cff;
  --accent-2: #34c48c;
  --success-color: #16a34a;
  --danger-color: #dc2626;
}

/* Base */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;color:var(--text);background:linear-gradient(180deg,var(--bg-start),var(--bg-end));-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:28px}

/* Contenedor centrado en toda la pantalla */
.container{min-height:calc(100vh - 56px);display:flex;align-items:center;justify-content:center;padding:12px}

/* Tarjeta principal: limpia, centrada y con buen contraste */
.card{width:100%;max-width:620px;background:var(--card-bg);border-radius:var(--radius);padding:28px;box-shadow:var(--shadow-lg);border:1px solid rgba(255,255,255,0.04);backdrop-filter:blur(6px);transition:transform 220ms cubic-bezier(.2,.9,.2,1),box-shadow 220ms ease}
.card:hover{transform:translateY(-8px);box-shadow:0 32px 70px rgba(2,6,23,0.7)}

/* Header simple */
.card header{display:flex;align-items:center;gap:14px;margin-bottom:18px}
.brand{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:700;background:linear-gradient(135deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);color:var(--accent);font-size:1rem}
.card header h1{margin:0;font-size:1.2rem;font-weight:700}
.card header p{margin:0;color:var(--muted);font-size:0.88rem}

/* Layout del formulario */
/* Inputs layout */
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:14px}
.form-row.single{grid-template-columns:1fr}

/* Agrupación específica para la sección de cortes */
.corte-inputs{display:flex;flex-direction:column;gap:10px;padding-top:6px;padding-bottom:4px}
.input-group{display:flex;flex-direction:column;gap:6px;padding:8px 8px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);border:1px solid rgba(255,255,255,0.02)}

/* Floating label layout */
.input-wrapper{position:relative;display:flex;flex-direction:column;gap:6px}
.input-wrapper .input-label{position:static;transform:none;font-size:0.95rem;color:var(--muted);font-weight:600;margin-left:4px}

/* Inner wrapper to position icon relative to the input */
.input-inner{position:relative}

/* Inputs limpios con foco accesible */
input[type="number"],input[type="text"],select{width:100%;padding:14px 16px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.06);color:var(--text);font-size:1rem;outline:none;transition:box-shadow 150ms ease,transform 120ms ease;padding-right:44px}
input[type="number"]::placeholder,input[type="text"]::placeholder{color:rgba(231,243,255,0.36)}
input[type="number"]:focus,input[type="text"]:focus,select:focus{box-shadow:0 10px 34px rgba(94,200,255,0.12);border-color:rgba(94,200,255,0.7);transform:translateY(-2px)}

/* Icon inside input */
.input-icon{position:absolute;right:12px;top:50%;transform:translateY(-50%);display:inline-flex;align-items:center;justify-content:center;color:var(--accent);opacity:0.95}
.input-inner .input-icon{right:12px}

/* Ocultar controles nativos de number y evitar la barra gris en navegadores */
/* Chrome, Safari, Edge */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button{ -webkit-appearance:none; margin:0 }
/* Firefox */
input[type=number]{-moz-appearance:textfield; appearance:textfield}

/* Ajustar espacio para el stepper */
.input-inner::after{content:"";position:absolute;right:8px;bottom:-8px;width:14px;height:14px;border-radius:50%;background:radial-gradient(circle at 30% 20%, rgba(126,231,199,0.18), rgba(94,200,255,0.06));opacity:0;transform:scale(.6);transition:all 320ms cubic-bezier(.2,.9,.2,1)}

/* show decorative bubble when input focused */
.input-inner:focus-within::after{opacity:1;transform:scale(1.15);filter:blur(4px)}

/* restore comfortable padding (no steppers) */
input[type="number"]{padding-right:44px}

/* button glow & ripple-like effect */
.btn-primary{position:relative;overflow:hidden}
.btn-primary::after{content:"";position:absolute;left:50%;top:50%;width:0;height:0;background:radial-gradient(circle, rgba(255,255,255,0.18), rgba(255,255,255,0.02));transform:translate(-50%,-50%);opacity:0;transition:width .4s ease,height .4s ease,opacity .4s ease}
.btn-primary:hover::after{width:180%;height:180%;opacity:0.12}

/* result pop animation */
.result.pop{animation:popPulse 700ms cubic-bezier(.16,.9,.3,1) both}
@keyframes popPulse{
  0%{transform:translateY(0) scale(1);box-shadow:var(--shadow-sm)}
  40%{transform:translateY(-6px) scale(1.03);box-shadow:0 28px 78px rgba(94,200,255,0.12)}
  100%{transform:translateY(0) scale(1);box-shadow:var(--shadow-sm)}
}

/* small animated accent behind card on focus-within */
.card:focus-within{box-shadow:0 36px 90px rgba(94,200,255,0.06), var(--shadow-lg)}
.input-icon svg{display:block}

/* Mensajes de error y ayuda */
.error-message{color:var(--danger);font-size:0.85rem;margin-top:6px;font-weight:700}
.message{color:var(--muted);font-size:0.95rem;margin-top:8px}

/* Botones: primario y secundario */
.buttons{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
.btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 14px;border-radius:10px;font-weight:700;cursor:pointer;border:none;transition:transform 160ms ease,box-shadow 160ms ease}
.btn-primary{background:linear-gradient(90deg,var(--accent),#6fb8ff);color:#022032;box-shadow:0 10px 30px rgba(94,200,255,0.14)}
.btn-primary:hover{transform:translateY(-6px);box-shadow:0 22px 54px rgba(94,200,255,0.18)}
.btn-outline{background:transparent;color:var(--accent);border:1px solid rgba(94,200,255,0.12);box-shadow:0 6px 18px rgba(2,6,23,0.45)}

/* Resultado: tarjeta destacada con animación sutil */
.result{margin-top:8px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:space-between;gap:12px;box-shadow:var(--shadow-sm);overflow:hidden;max-height:0;padding:0 16px;opacity:0;transition:max-height 360ms ease,opacity 320ms ease,padding 320ms ease,transform 320ms ease}
.result.show{max-height:260px;padding:16px;opacity:1;transform:translateY(0)}
@keyframes appearUp{to{transform:translateY(0);opacity:1}}
.final-score{font-size:2rem;font-weight:800;color:#ffffff;line-height:1;text-shadow:0 8px 30px rgba(0,0,0,0.45)}
.status-good .final-score{color:var(--success-color)}
.status-bad .final-score{color:var(--danger-color)}
.status-neutral .final-score{color:var(--text)}
.badge{padding:6px 10px;border-radius:999px;font-weight:700;font-size:0.85rem;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03)}
.badge.ok{color:var(--accent-2);background:rgba(126,231,199,0.04);border-color:rgba(126,231,199,0.06)}
.badge.warn{color:#ffd58a;background:rgba(255,213,122,0.04);border-color:rgba(255,213,122,0.06)}
.badge.fail{color:var(--danger);background:rgba(255,122,122,0.04);border-color:rgba(255,122,122,0.06)}

.small{font-size:0.92rem;color:var(--muted);font-weight:600}
hr.sep{border:none;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.04),transparent);margin:12px 0;border-radius:2px}

/* Mobile */
@media (max-width:720px){
  .card{padding:18px;border-radius:12px}
  .form-row{grid-template-columns:1fr}
  .brand{width:48px;height:48px}
  .final-score{font-size:1.6rem}
  .buttons{grid-template-columns:1fr}
}

/* Respeta prefer-reduced-motion */
@media (prefers-reduced-motion:reduce){
  .card,.result,.card:hover{transition:none;animation:none;transform:none}
}

/* Barra de efectos: botones y animaciones (sin confetti/lagrimas) */
.effects-bar{display:flex;gap:8px;flex-wrap:wrap}
.effect-btn{padding:8px 10px;background:transparent;border:1px solid rgba(255,255,255,0.06);border-radius:10px;color:var(--text);cursor:pointer;transition:transform 140ms ease,background 140ms ease}
.effect-btn:hover{transform:translateY(-4px);background:rgba(255,255,255,0.02)}

/* When an effect button also uses the outline style, make it visually identical
   to the primary theme toggle (.btn.btn-outline) by overriding the generic
   .effect-btn rules. This ensures the "Limpiar" button looks the same. */
.effect-btn.btn-outline{
  /* Match .btn/.btn-outline sizing and layout so both buttons are identical */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 12px 14px; /* same as .btn */
  border-radius: 10px; /* same as .btn */
  font-weight: 700; /* same visual weight */
  background: transparent;
  color: var(--accent);
  border: 1px solid rgba(94,200,255,0.12);
  box-shadow: 0 6px 18px rgba(2,6,23,0.45);
  cursor: pointer;
  transition: transform 160ms ease, box-shadow 160ms ease;
  transform: none;
}
.effect-btn.btn-outline:hover{
  /* Keep hover behavior identical to theme toggle: no translate, subtle box-shadow */
  transform: none;
  background: transparent;
  box-shadow: 0 10px 30px rgba(94,200,255,0.10);
}

/* Place the clear button container at the bottom-right of the card */
.card-actions{display:flex;justify-content:flex-end;margin-top:14px}
.card-actions .btn{margin:0}

/* Result animations */
.result.pulse{animation:pulseAnim 700ms ease both}
@keyframes pulseAnim{0%{transform:scale(1)}50%{transform:scale(1.03)}100%{transform:scale(1)}}
.result.shake{animation:shakeAnim 600ms cubic-bezier(.36,.07,.19,.97) both}
@keyframes shakeAnim{10%,90%{transform:translateX(-1px)}20%,80%{transform:translateX(2px)}30%,50%,70%{transform:translateX(-4px)}40%,60%{transform:translateX(4px)}100%{transform:translateX(0)}}
.card.glow{box-shadow:0 28px 80px rgba(94,200,255,0.12), var(--shadow-lg)}
.result.glow{box-shadow:0 18px 54px rgba(94,200,255,0.12)}

/* utility small text */
.muted-small{font-size:0.82rem;color:var(--muted)}

/* ========== GAME SCREEN ========== */
.game-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(180deg,var(--bg-start),var(--bg-end));display:flex;align-items:center;justify-content:center;z-index:1000;overflow:auto;padding:20px}
.game-screen.active{display:flex}
.game-container{width:100%;max-width:900px;background:var(--card-bg);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow-lg);border:1px solid rgba(255,255,255,0.04);backdrop-filter:blur(6px)}
.game-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid rgba(255,255,255,0.05)}
.game-header h2{margin:0;font-size:1.4rem;color:var(--accent)}
.game-header p{margin:0;color:var(--text);font-size:0.95rem}

/* Animación pop-in para modales */
@keyframes popIn{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}

/* Nota: abre index.html y prueba ajustar inputs y botones; si quieres modo claro/oscuro o animaciones extra, lo agrego */